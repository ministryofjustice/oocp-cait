{% extends "templates/app/app.html" %}

{% block stylesheet %}
{{ super() }}
<link href="{{ asset_path }}stylesheets/summary.css" rel="stylesheet">
{% endblock %}

{% block grid_content %}

  <div><div class="gv-o-grid-row">
  <div class="gv-o-grid-item gv-u-two-thirds">
  <h1 class="c-summary__heading gv-u-heading-xxlarge">{{ getFormattedProp(route.id, 'heading') }}</h1>
  <p class="c-summary__lede">{{ getFormattedProp(route.id, 'lede') }}</p>
  <p class="c-summary__lede">{{ getFormattedProp(route.id, 'lede_additional') | safe }}</p>
  <div class="gv-s-prose">
  {{ Block.Group(blocks=route.blocks) }}
  </div>
  </div>
  </div>
  {% for collection in route.collections %}
    <section id="{{ collection }}" class="SummaryAreas c-areas" data-block-name="{{ collection }}">
    <h2 class="SummaryAreas__heading c-areas__heading gv-u-heading-xlarge">{{ getFormattedProp(collection, 'title') }}</h2>
    {% for item in getBlockProp(collection, 'items') %}
      <article class="SummaryArea c-area c-area--template-{{ getBlockProp(collection, 'template') }}" id="card-{{ getBlockProp(collection, ['slug', 'url']) }}" data-slug="{{ getBlockProp(collection, ['slug', 'url']) }}" data-block-name="{{ item }}">
        <div class="SummaryArea__details c-area__details">
        <h3 class="SummaryArea__heading c-area__heading gv-u-heading-xlarge"><a href="{{ getRouteUrl(item) }}" data-link-type="card-header">{{ getFormattedProp(item, 'heading') }}</a></h3>
        <p class="SummaryArea__lede c-area__lede gv-u-text-small">{{ getFormattedProp(item, 'summary_lede') }}</p>
        <p class="SummaryArea__lede-additional c-area__lede-additional gv-u-text-small">{{ getFormattedProp(item, 'summary_lede_additional') }}</p>

        {% if getBlockProp(item, 'usp') %}
          <div class="SummaryArea__USP o-usp-callout">
          <h4 class="SummaryArea_USP__heading gv-u-heading-small">{{ Block.String('Area__USP__heading') }}</h4>
          <p>{{ getFormattedProp(item, 'usp') | safe }}</p>
          </div>
        {% endif %}
        {% if getBlockProp(item, 'involved') %}
          <div class="SummaryArea__Involvement c-involvement-callout">
          <h4 class="SummaryArea__Involvement__heading gv-u-heading-small">{{ Block.String('SummaryArea__Involvement__heading') }}</h4>
          <ul class="gv-c-list--bullet">
          {% for involved in getBlockProp(item, 'involved') %}
          <li>{{ involved | safe }}</li>
          {% endfor %}
          </ul>
          </div>
        {% endif %}
      </div>
      <aside class="c-area__aside xgv-s-prose">
      {% set concerns = getBlockProp(item, 'concerns') %}
      {% if concerns %}
        <div class="SummaryArea__Concerning c-area__concerns">
          <h4 class="SummaryArea__Concerning__heading c-area__concerns__heading gv-u-heading-small">{{ Block.String('SummaryArea__Concerning__heading') }}</h4>
          <ul class="SummaryArea__Concerning__list c-area__concerns__list gv-c-list--bullet">
            {% for concern in concerns %}
            <li class="SummaryArea__Concerning__list-item c-area__concerns__list-item gv-u-text-xsmall">{{ concern | safe }}</li>
            {% endfor %}
          </ul>
        </div>
      {% endif %}
      {{ Block.ProsCons(item) }}
      </aside>

      <p class="c-area__read-more"><a href="{{ getRouteUrl(item) }}" data-link-type="card-read-more">Read more about {{ getFormattedProp(item, 'heading') | lower }}</a></p>

      </article>
    {% endfor %}
    </section>
  {% endfor %}

{% endblock %}